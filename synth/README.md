# Создание синтетического датасета

[ipynb](https://github.com/KseniaKar/Portfolio/blob/main/telecom/telecom.ipynb)
[HTML](https://github.com/KseniaKar/Portfolio/blob/main/telecom/telecom.html)

## Описание проекта

Создание синтетического датасета, который репрезентирует закрытые данные о продаже недвижимости в Новосибирске, с добавлением геопризнаков. Синтетический датасет (необходимый размер: 9000 квартир) будет использован в рамках курса "Геопространственный анализ данных" https://ods.ai/tracks/geoanalytics-course-spring24. 


## Цель: 
Цель проекта - cоздание синтетического датасета, который репрезентирует закрытые данные о продаже недвижимости в Новосибирске, а также будет включать геопризнаки в данных.

## План

1) Подготовить данные о продаже недвижимости в Новосибирске за 2019 год:
 - Извлечение ключевых признаков из данных: площадь кухни, количество комнат, тип объекта, общая площадь, тип дома, географические координаты, стоимость, информация о первом и последнем этажах;
 - Удаление дубликатов, обработка пропущенных значений, анализ данных и устранение выбросов и аномалий. 
2) Провести геокодирование данных о многоквартирных домах:
- Получение данных о многоквартирных домах Новосибирской области из открытых источников;
- Геокодирование данных с помощью DaData.
3) Провести геопространственную индексацию данных о продаже квартир и многоквартирных домов:
- Группировка данных по гексагонам;
- Расчет математического ожидания продажи квартиры для каждого дома;
4) Провести гененерацию синтетических квартир;
5) Добавить пространственные признаки с использованием данных c OpenStreetMap:
- Создать пространственные признаки для гексагонов 9 и 11 уровней Новосибирска.
- Построить модель предсказания цен на квартиры на исходных данных с добавлением пространственных признаков.
- Оценить качество модели 
6) Добавить предсказанные цены с учетом динамики цен и нормального шума в синтетический датасет.
7) Построить модель для предсказания цен на квартиры и оценить ее качество.

## Описание данных

Данные состоят из файлов, полученных из разных источников:

- `csv-8606.csv.bz2` - цены на квартиры в Новосибирске, 2019 год, сырые данные;
- `export-reestrmkd-54-20240401.zip` - реестр многоквартирных домов Новосибирской области, с сайта https://витрина.фрт.рф/ получены 25.04.2024
- `tags.parquet` - выгруженные данные из OpenStreetMap от 25.04.2024


## Навыки и инструменты

- **python**
- **pandas**
- **numpy**
- **seaborn**
- catboost.**CatBoostRegressor**
- sklearn.model_selection.**train_test_split, cross_val_predict, KFold**
- sklearn.preprocessing.**StandardScaler, OneHotEncoder**
- **statsmodels.api**
- **h3pandas**
- **Dadata** 




## Вывод

- Из данных о ценах на квартиры в Новосибирске за 2019 год были извлечены ключевые признаки, такие как площадь кухни, количество комнат, тип объекта, общая площадь, тип дома, географические координаты, стоимость, и информация о первом и последнем этажах. Дубликаты были удалены, пропущенные значения обработаны, данные проверены и проанализированы, а также устранены выбросы и аномалии. Пропуски для количества комнат и площади кухни заполнены средними значениями по группам.

- Из открытых данных реестра многоквартирных домов Новосибирской области был сделан срез для Новосибирска и Краснообска, и данные были геокодированы с помощью `DaData`. Результаты сохранены в `data_geo.csv`. Была проведена геопространственная индексация данных о продаже квартир и многоквартирных домов, сгруппированы по гексагонам, и рассчитано математическое ожидание стоимости квартир для каждого дома, что сохранено в `data_geo_mean`.

- Для создания синтетических данных были использованы 9000 домов из `data_geo_mean`, выбранных с учетом вероятности продажи квартир, с увеличением веса для новостроек. Синтетические квартиры были сгенерированы, используя случайные признаки реальных данных и условные распределения, результаты сохраненны в `flats_synth.csv`.

- Данные c `OpenStreetMap` использовались для создания пространственных признаков для гексагонов 9 и 11 уровней Новосибирска. Модель предсказания цен на квартиры была построена на исходных данных с добавлением пространственных признаков. В синтетический датасет были добавлены предсказанные цены с учетом динамики цен и нормального шума. 

- Создан синтетический датасет, построена модель CatBoost для предсказания - оценено качество.
